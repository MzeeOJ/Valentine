<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine?</title>
  <style>
    :root{--bg:#fff0f6;--card:#ffffff;--accent:#ff476f;--accent-dark:#d93a5a;--muted:#6b6b6b}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background:linear-gradient(180deg,var(--bg),#ffeef2);display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:560px;background:var(--card);border-radius:18px;box-shadow:0 12px 30px rgba(0,0,0,0.12);padding:28px;position:relative;overflow:hidden}
    h1{margin:0 0 12px;font-size:28px;color:var(--accent-dark)}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .buttons{display:flex;gap:14px}
    button{font-size:16px;padding:12px 18px;border-radius:12px;border:0;cursor:pointer}
    .yes{background:linear-gradient(90deg,var(--accent),#ff86a7);color:white;box-shadow:0 6px 18px rgba(255,71,111,0.28)}
    .no{background:transparent;border:2px solid var(--accent);color:var(--accent);}
    .no.floating{position:absolute;right:22px;bottom:22px}

    .heart{position:absolute;right:-60px;top:-60px;width:200px;height:200px;opacity:0.12;transform:rotate(15deg);filter:blur(1px)}

    .message-form{margin-top:18px;display:none}
    .message-form textarea{width:100%;min-height:88px;border-radius:10px;padding:12px;border:1px solid #eee;font-size:15px}
    .actions{display:flex;gap:8px;margin-top:10px}
    .copy{background:#fff;border:1px solid #ddd;padding:10px;border-radius:10px}

    .small{font-size:13px;color:#7a7a7a;margin-top:12px}

    /* confetti canvas overlay */
    #confetti-canvas{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:9999}

    @media (max-width:480px){h1{font-size:22px}.card{padding:18px}}
  </style>
</head>
<body>
  <canvas id="confetti-canvas"></canvas>
  <div class="card">
    <svg class="heart" viewBox="0 0 32 29.6" xmlns="http://www.w3.org/2000/svg" aria-hidden>
      <path fill="var(--accent)" d="M23.6 0c-2.7 0-5 1.5-6.1 3.7C16.4 1.5 14.1 0 11.4 0 5.6 0 .9 4.7 .9 10.5c0 8.1 10.2 13.6 15.2 18.5 5-4.9 15.2-10.4 15.2-18.5C31.1 4.7 26.4 0 20.6 0z"/>
    </svg>

    <h1>Will you be my Valentine?</h1>
    <p class="lead">I made this just for you. Pick an answer â€” and if your heart says yes, there's a little surprise. ðŸ’Œ</p>

    <div class="buttons" id="btnWrap">
      <button id="yesBtn" class="yes">Yes â€” I will ðŸ’–</button>
      <button id="noBtn" class="no">Noâ€¦</button>
    </div>

    <div class="message-form" id="messageForm">
      <label for="note" style="display:block;margin-bottom:8px;color:var(--muted)">Write a short message (optional)</label>
      <textarea id="note" placeholder="Type something sweet...">Can't wait to spend time with you ðŸ’•</textarea>
      <div class="actions">
        <button id="sendBtn" class="yes">Send with a kiss</button>
        <button id="copyBtn" class="copy">Copy message</button>
      </div>
      <p class="small">Tip: You can customize the message above before sending.</p>
    </div>

    <p class="small">Made with â™¥ â€” you can edit colors and text in the HTML file.</p>
  </div>

  <script>
    // Basic behavior: No button moves away on hover/touch. Yes triggers confetti + reveals message.
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const messageForm = document.getElementById('messageForm');
    const btnWrap = document.getElementById('btnWrap');

    let dodgeLevel = 1;

    function moveNoButton() {
      const wrap = btnWrap.getBoundingClientRect();
      const noRect = noBtn.getBoundingClientRect();
      const btnW = noRect.width, btnH = noRect.height;

      // Random position inside the card but avoid overlapping the yes button
      const padding = 12;
      const cardRect = document.querySelector('.card').getBoundingClientRect();
      const maxX = Math.max(0, cardRect.width - btnW - padding);
      const maxY = Math.max(0, cardRect.height - btnH - padding);

      const x = Math.floor(Math.random() * maxX);
      const y = Math.floor((Math.random() * maxY) + (cardRect.top < 0 ? 0 : 0));

      noBtn.style.position = 'absolute';
      noBtn.style.left = x + 'px';
      noBtn.style.top = y + 'px';
      noBtn.classList.add('floating');

      dodgeLevel = Math.min(6, dodgeLevel + 1);
    }

    // Desktop: move on mouseenter. Mobile: move on touchstart.
    noBtn.addEventListener('mouseenter', moveNoButton);
    noBtn.addEventListener('touchstart', (e)=>{ e.preventDefault(); moveNoButton(); });

    // If user manages to click No, show a playful follow-up
    noBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      alert("Oh no â€” the No button escaped! Maybe try the Yes? ðŸ˜‡");
    });

    // Yes behavior: confetti + reveal form
    yesBtn.addEventListener('click', ()=>{
      playConfetti();
      messageForm.style.display = 'block';
      yesBtn.textContent = 'Yay! ðŸ’–';
      // scroll into view on small screens
      messageForm.scrollIntoView({behavior:'smooth',block:'center'});
    });

    // Copy message
    document.getElementById('copyBtn').addEventListener('click', async ()=>{
      const text = document.getElementById('note').value;
      try{ await navigator.clipboard.writeText(text); alert('Message copied to clipboard!'); }
      catch(e){ alert('Copy failed â€” please select and copy manually.'); }
    });

    // Send button â€” playful simulation of sending
    document.getElementById('sendBtn').addEventListener('click', ()=>{
      const txt = document.getElementById('note').value;
      playConfetti();
      alert('Sent! ðŸ’Œ\n\nMessage:\n"' + txt + '"');
    });

    /* Simple confetti animation (small, dependency-free) */
    function playConfetti(){
      const canvas = document.getElementById('confetti-canvas');
      const ctx = canvas.getContext('2d');
      resizeCanvas();
      const W = canvas.width, H = canvas.height;
      const pieces = [];
      const count = 60;
      const colors = ['#ff4d6d','#ff9bb3','#ffd166','#ff7ab6','#ffd1e6'];
      for(let i=0;i<count;i++){
        pieces.push({x:Math.random()*W,y:Math.random()*H-50,vy:1+Math.random()*4, vx:(Math.random()-0.5)*2, size:6+Math.random()*8, color:colors[Math.floor(Math.random()*colors.length)], rot:Math.random()*360, vr: (Math.random()-0.5)*8});
      }
      let time = 0;
      const id = setInterval(()=>{
        time++; ctx.clearRect(0,0,W,H);
        for(const p of pieces){
          p.x += p.vx; p.y += p.vy; p.rot += p.vr; p.vy += 0.05; // gravity
          ctx.save();
          ctx.translate(p.x,p.y);
          ctx.rotate(p.rot * Math.PI/180);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6);
          ctx.restore();
        }
        if(time>120){ clearInterval(id); ctx.clearRect(0,0,W,H); }
      },1000/60);
    }

    function resizeCanvas(){
      const c = document.getElementById('confetti-canvas');
      c.width = window.innerWidth; c.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    // Make the No button harder to catch after a few moves by swapping with Yes sometimes
    noBtn.addEventListener('mouseenter', ()=>{
      if(Math.random() < 0.25){ // 25% chance
        // swap positions
        const yesRect = yesBtn.getBoundingClientRect();
        const noRect = noBtn.getBoundingClientRect();
        const yesX = yesRect.left - yesRect.width/2;
        // visually swap texts
        const t = yesBtn.textContent; yesBtn.textContent = noBtn.textContent; noBtn.textContent = t;
        setTimeout(()=>{ // swap back after a little while
          const t2 = yesBtn.textContent; yesBtn.textContent = t2; // noop to keep it playful
        },800);
      }
    });

    // Accessibility: keyboard users can choose
    yesBtn.addEventListener('keyup', (e)=>{ if(e.key === 'Enter' || e.key === ' ') yesBtn.click(); });
    noBtn.addEventListener('keyup', (e)=>{ if(e.key === 'Enter' || e.key === ' ') noBtn.click(); });

  </script>
</body>
</html>
